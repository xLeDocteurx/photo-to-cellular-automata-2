(this.webpackJsonpphotocell2=this.webpackJsonpphotocell2||[]).push([[0],{10:function(t,e,i){t.exports=i(19)},15:function(t,e,i){},17:function(t,e,i){t.exports=i.p+"static/media/logo.5d5d9eef.svg"},18:function(t,e,i){},19:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),o=i(8),h=i.n(o),r=(i(15),i(1)),s=i(2),l=i(5),c=i(4),u=i(6),v=i(3),f=i(9),d=i.n(f),p=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={canvas:null},i.doesComponentReceivedData=i.doesComponentReceivedData.bind(Object(v.a)(i)),i}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setState({canvas:new d.a(this.props.sketch,this.el)})}},{key:"componentDidUpdate",value:function(){this.doesComponentReceivedData()}},{key:"doesComponentReceivedData",value:function(){this.state.canvas.data=this.props.data?this.props.data:null}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{id:"canva-container",ref:function(e){t.el=e}})}}]),e}(n.Component);function g(t){var e,i,n=null;function a(n){t.loadImage(n.data,(function(n){!function(e){if(t.background(255),e.filter("gray"),e.width>e.height){var i=e.height/e.width;e.resize(t.width,t.width*i),t.image(e,0,t.height/2-e.height/2)}else{var n=e.width/e.height;e.resize(t.height*n,t.height),t.image(e,t.width/2-e.width/2,0)}}(n),function(){var e=t.width/10,n=t.height/10;i=[],t.loadPixels();for(var a=0;a<e;a++){i.push([]);for(var h=0;h<n;h++){var r=4*(10*a+10*h*t.width),s=t.pixels[r],l=t.pixels[r+1],c=t.pixels[r+2],u=(t.pixels[r+3],255*Math.round(s/150)),v=255*Math.round(l/150),f=255*Math.round(c/150),d=t.color(u,v,f).levels[0]<127;i[a].push(new o(a,h,d))}}i.forEach((function(t){t.forEach((function(t){t.draw()}))}))}(),t.noLoop(),(e=t.createButton("Launch !")).position(20,20),e.mousePressed((function(){return t.loop()}))}),(function(){alert("Something went wrong with your file")}))}t.setup=function(){n=t.createCanvas(0,0),l(),t.background(0),t.frameRate(8),n.drop(h),t.background(0),t.fill(255),t.noStroke(),t.textSize(24),t.textAlign(t.CENTER),t.text("Drag an image here",t.width/2,t.height/2),t.noLoop()},t.draw=function(){i&&(i.forEach((function(t){t.forEach((function(t){t.computeNextState()}))})),i.forEach((function(t){t.forEach((function(t){t.overwriteState(),t.draw()}))})))};var o=function(){function e(t,i,n){Object(r.a)(this,e),this.x=t,this.y=i,this.alive=n,this.aliveNext=null,this.alivePrevious=[]}return Object(s.a)(e,[{key:"computeNextState",value:function(){var t=this.numberOfAliveNeighboors;this.alive||3!=t?this.alive&&t<2?this.aliveNext=!1:this.alive&&t>3?this.aliveNext=!1:this.aliveNext=this.alive:this.aliveNext=!0}},{key:"overwriteState",value:function(){this.alivePrevious.push(this.alive),this.alive=this.aliveNext,this.aliveNext=null}},{key:"recoverState",value:function(){this.alivePrevious.length>0&&(this.aliveNext=null,this.alive=this.alivePrevious[this.alivePrevious.length-1],this.alivePrevious.pop())}},{key:"draw",value:function(){t.fill(this.color),t.noStroke(),t.rect(10*this.x,10*this.y,10,10)}},{key:"color",get:function(){return this.alive?t.color(0):t.color(255)}},{key:"numberOfAliveNeighboors",get:function(){var t=this.x<1||this.x-1>i.length-1?i.length-1:this.x-1,e=this.x>i.length-2?0:this.x+1,n=this.y<1||this.y-1>i[this.x].length-1?i[this.x].length-1:this.y-1,a=this.y>i[this.x].length-2?0:this.y+1;return(i[t][n].alive?1:0)+(i[this.x][n].alive?1:0)+(i[e][n].alive?1:0)+(i[t][this.y].alive?1:0)+(i[e][this.y].alive?1:0)+(i[t][a].alive?1:0)+(i[this.x][a].alive?1:0)+(i[e][a].alive?1:0)}}]),e}();function h(t){"image"===t.type?a(t):alert("Not an image file!")}function l(){var e=n.parent().clientWidth,i=n.parent().clientHeight;t.resizeCanvas(e,i)}t.windowResized=function(){l()}}i(17),i(18);var m=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={sketch:g},i}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement(p,{sketch:this.state.sketch}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(a.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.8e20fd8f.chunk.js.map